<!doctype html>
<html amp lang="en">
   <head>
      <meta charset="utf-8">
      <title>Hello AMPs</title>
      <script async src="https://cdn.ampproject.org/v0.js"></script>
      <!-- required for the amp-consent component -->
      <script async custom-element="amp-consent" src="https://cdn.ampproject.org/v0/amp-consent-0.1.js"></script>
      <!-- required for geo-targeting -->
      <script async custom-element="amp-geo" src="https://cdn.ampproject.org/v0/amp-geo-0.1.js"></script>
      <!-- required to sync auth_id with publishers domain and Google.com domain --> 
      <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
      <style amp-custom>
         .show {
           display: block;
         }
         .hide {
           display: none;
         }
       </style>
   </head>
   <body>
      <h1>Welcome to the mobile web CCPA & GDPR</h1>  
      <amp-analytics type="googleanalytics">
         <script type=application/json> 
            {
               "linkers": {
                  "authId": {
                     "ids": {
                        "_a":"CLIENT_ID(AMP-CONSENT)"
                     },
                     "enabled":true,
                     "proxyOnly":false
                  }
               },
               "cookies": {
                  "enabled":true,
                  "authId": { 
                     "value":"LINKER_PARAM(authId, _a)"
                  }
               }
            }
         </script>
      </amp-analytics>
      <amp-geo layout="nodisplay">
         <script type="application/json">
            {
               "ISOCountryGroups": {
                  "eea": ["preset-eea", "unknown"],
                  "us": ["us"]
               }
            }
         </script>
      </amp-geo>
      <amp-consent id='consent' layout='nodisplay' type='SourcePoint'>
         <script type="application/json">
            {
               "consentRequired": false,
               "consentInstanceId": "sourcepoint",
               "promptUISrc": "https://cdn.privacy-mgmt.com/amp/unified/index.html?authId=CLIENT_ID&source_url=SOURCE_URL",
               "clientConfig": {
                  "accountId": 1732,
                  "propertyHref": "https://amp.newscriptdemo.com",
                  "stageCampaign": false
               },
               "geoOverride": {
                  "eea": {
                     "consentRequired": "remote",
                     "checkConsentHref": "https://cdn.privacy-mgmt.com/wrapper/tcfv2/v1/amp-v2?authId=CLIENT_ID",                                          
                     "postPromptUI": "consent-ui",
                     "clientConfig": {                        
                        "privacyManagerId": 547514,
                        "isCCPA": false,                     
                        "pmTab": "purposes"                        
                     }
                  },
                  "us": {
                     "consentRequired": "remote",
                     "checkConsentHref": "https://cdn.privacy-mgmt.com/wrapper/ccpa/amp-v2?authId=CLIENT_ID",
                     "postPromptUI": "consent-ui",
                     "clientConfig": {
                        "isCCPA": true,
                        "privacyManagerId": 548950
                     }
                  }
               }
            }
         </script>
      </amp-consent>
      <div id="consent-ui">
         <button on="tap:consent.prompt(consent=SourcePoint)">
            <span [class]="isCCPA ? 'hide' : 'show'" class="hide">Privacy Manager CCPA</span>
            <span [class]="isCCPA ? 'show' : 'hide'" class="show">Privacy Manager GDPR</span>
         </button>
      </div>
   </body>
</html>